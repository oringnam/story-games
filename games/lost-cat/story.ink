// 잃어버린 고양이
// 첫 번째 스토리 게임 프로토타입

VAR cat_found = false
VAR clue_count = 0
VAR kindness_level = 0

-> start

=== start ===
당신은 아침에 일어나 고양이 '나비'가 없어진 것을 발견했다.

평소 같으면 침대 곁에서 자고 있을 시간인데, 어디에도 보이지 않는다.

"나비~ 나비~" 불러봤지만 대답이 없다.

창문이 살짝 열려 있다. 어젯밤 환기하려고 연 창문을 깜빡한 모양이다.

+ [아파트 게시판을 확인한다] 
    ~ clue_count++
    -> bulletin_board
+ [이웃집 문을 두드린다]
    -> ask_neighbor
+ [직접 밖으로 나가 찾는다]
    -> search_outside

=== bulletin_board ===
1층 로비의 게시판으로 내려갔다.

각종 택배 알림과 관리비 고지서 사이에 손글씨 쪽지 하나가 눈에 띈다.

"<i>어제 저녁 7시쯤 공원 쪽에서 삼색 고양이를 봤어요. 목에 빨간 목걸이를 한 예쁜 고양이였습니다.</i>"

나비다! 나비는 삼색 고양이에 빨간 목걸이를 하고 있다.

단서를 얻었다. 공원... 나비가 좋아하는 곳이기도 하다.

+ [공원으로 바로 간다]
    -> go_to_park
+ [이웃에게도 물어보고 간다]
    -> ask_neighbor

=== ask_neighbor ===
옆집 701호 문을 두드렸다.

반갑게 문을 열어준 건 늘 친절한 김 아주머니다.

"어머, 무슨 일이세요?"

+ ["혹시 우리 고양이 못 보셨어요?"]
    ~ kindness_level++
    -> neighbor_kind_response
+ ["고양이가 없어졌는데, 봤어요?"]
    -> neighbor_neutral_response

=== neighbor_kind_response ===
"아이고, 나비가 없어졌어요? 그거 큰일이네..."

아주머니는 잠시 생각하더니 말을 이었다.

"어제 저녁에 쓰레기 버리러 나갔다가 1층 현관 앞에서 고양이 한 마리 봤어요. 나비 맞는지는 모르겠는데, 공원 쪽으로 가더라고요."

~ clue_count++

유용한 정보다!

"감사합니다! 공원 쪽 가봐야겠어요."

+ [공원으로 간다]
    -> go_to_park

=== neighbor_neutral_response ===
"글쎄요... 잘 모르겠는데요."

아주머니는 별 관심 없어 보인다.

"아, 네... 감사합니다."

별 소득이 없다.

+ [다른 곳을 찾아본다]
    -> search_outside

=== search_outside ===
아파트 밖으로 나왔다.

주차장과 놀이터, 그리고 작은 공원이 보인다.

어디부터 찾아야 할까?

+ [주차장을 살펴본다]
    -> parking_lot
+ [놀이터로 간다]
    -> playground
+ [공원으로 간다]
    -> go_to_park

=== parking_lot ===
주차장 구석구석을 살펴봤지만 나비는 보이지 않는다.

차 밑을 들여다보고, 화단 뒤도 확인했지만... 허탕이다.

+ [놀이터로 가본다]
    -> playground
+ [공원으로 간다]
    -> go_to_park

=== playground ===
놀이터에는 아이들이 뛰어놀고 있다.

그네 옆 벤치에서 책을 읽고 있는 학생에게 다가갔다.

"혹시 삼색 고양이 못 봤어요?"

{clue_count > 0:
    "아, 아까 공원 쪽에서 본 것 같은데요?"
    
    역시 공원이구나!
    
    + [공원으로 간다]
        -> go_to_park
- else:
    "고양이요? 잘 모르겠는데요..."
    
    별 도움이 안 된다.
    
    + [다른 곳을 찾아본다]
        -> search_outside
}

=== go_to_park ===
아파트 옆 작은 공원으로 향했다.

나무들 사이로 산책로가 이어져 있고, 벤치 몇 개가 놓여 있다.

저 멀리... 벤치 아래에 뭔가 움직이는 게 보인다!

+ [조심스럽게 다가간다]
    -> find_cat

=== find_cat ===
벤치 아래를 들여다보니...

나비다!

"야옹~"

나비가 반갑게 달려와 다리에 몸을 비빈다.

{kindness_level > 0:
    다행히 다친 곳은 없어 보인다. 김 아주머니 덕분에 빨리 찾을 수 있었다.
}

나비를 안아 올렸다. 따뜻한 체온이 느껴진다.

"이 녀석, 걱정했잖아..."

나비는 편안하게 가르랑거린다.

~ cat_found = true

-> ending_happy

=== ending_happy ===
<b>🎉 해피 엔딩: 나비를 찾았다!</b>

집으로 돌아오는 길, 나비는 내 품에서 편안하게 잠들었다.

앞으로는 창문을 꼭 확인해야겠다.

{clue_count >= 2:
    <i>완벽한 탐정 플레이! 모든 단서를 찾았습니다.</i>
}

<center>- THE END -</center>

-> END

=== function display_stats ===
단서 발견: {clue_count}개
친절도: {kindness_level}

~ return
